
      <div class="col-md-5">
          <br><table id='sectable' class='table table-bordered table-hover'>
              <thead>
                  <tr>
                      <th>平均耗时/毫秒</th>
                      <th>行为名称</th>
                  </tr>
              </thead>
              <tbody>
                  {% for x in datas %}
                  <tr>
                      <td>{% if x.time > 4000 %}<span class='label label-danger'>
                      {% elif x.time < 2000 %}<span class='label label-success'>
                      {% else %}<span class='label label-warning'>{%endif%}{{ x.time }}</td>
                      <td>{{ x.name }}</td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
      </div>
      <div id='chart' class="col-md-7">
            <div id='zhan' style='height:400px'></div>
      </div>

    <script>
        function randomData() {
            return Math.floor(Math.random() * 100) / 100;
        }

        var chart2 = echarts.init(document.getElementById('zhan'));
        var a = Math.floor(Math.random() * 60)
            b = 60 - a

        option2 = {
            title : {
                text: '页面加载耗时占比',
            },
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                x : 'center',
                y : 'bottom',
                data:['0-2秒','2-4秒','4-6秒','6-8秒','8-10秒','10秒以上']
            },
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {
                        show: true,
                        type: ['pie', 'funnel']
                    },
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            series : [
                {
                    name:'面积模式',
                    type:'pie',
                    radius : [20, 110],
                    roseType : 'radius',
                    data:[
                        {value:5, name:'0-2秒'},
                        {value:15, name:'2-4秒'},
                        {value:a, name:'4-6秒'},
                        {value:b, name:'6-8秒'},
                        {value:7, name:'8-10秒'},
                        {value:13, name:'10秒以上'},
                    ]
                }
            ]
        };

        chart2.setOption(option2, true);
    </script>
    <script>
        $('#sectable').DataTable({
          "paging": true,
          "lengthChange": true,
          "searching": true,
          "order": [[ 0, 'desc' ]],
          "info": true,
          "autoWidth": true
        });
    </script>
    <script>
        $('tr').click(function(){
            var name = $(this).children().eq(1).text()
            console.log(name)
            $.get('/speed/appAjax2',{'name':name},function(ret){
                $('#chart').html(ret)
            })
        })
    </script>
