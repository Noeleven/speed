
<div class="box box-primary">
    <div class="box-header with-border"><h3>{{data}}</h3>
    </div>
    <div class="box-body">
        <div class="col-md-6">
            <div id='yys' style='height:450px'></div>
        </div>
        <div class="col-md-6">
            <div id='qs' style='height:450px'></div>
        </div>
        <span class='label label-success'>本页平均</span>
        <span class='label label-primary'>互联网平均</span>
        <span class='label label-danger'>高于平均</span>
        <table class="table table-hover table-bordered">
          <tbody>
              <tr>
                  <td>样本数</td>
                  <td>{{index.req}}</td>
                  <td>页面大小</td>
                  <td>{% if index.size > 1417 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.size}} KB</span> <span class='label label-primary'>1417KB</span></td>
              </tr>
              <tr>
                  <td>白屏</td><td>{% if index.wp > 2.537 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.wp}} 秒</span> <span class='label label-primary'>2.537</span></td>
                  <td>可交互</td><td>{% if index.dp > 3.113 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.dp}} 秒</span> <span class='label label-primary'>3.113</span></td>
                  <td>首屏</td><td>{% if index.fp > 3.389 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.fp}} 秒</span> <span class='label label-primary'>3.389</span></td>
                  <td>加载完成</td><td>{% if index.lp > 9.451 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.lp}} 秒</span> <span class='label label-primary'>9.451</span></td>
              </tr>
              <tr>
                  <td>DNS</td>
                  <td>{% if index.dns > 0.045 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.dns}} 秒</span> <span class='label label-primary'>0.045</span></td>
                  <td>建连</td>
                  <td>{% if index.con > 0.058 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.con}} 秒</span> <span class='label label-primary'>0.058</span></td>
                  <td>后端</td>
                  <td>{% if index.server > 0.125 %}<span class='label label-danger'>{% else %}<span class='label label-success'>{% endif%}{{index.server}} 秒</span> <span class='label label-primary'>0.125</span></td>
              </tr>
            </tbody>
        </table>
    </div>

</div>
    <script>
        function randomData() {
            return Math.floor(Math.random() * 100) / 100;
        }
        var chartx = echarts.init(document.getElementById('yys'));
        var charty = echarts.init(document.getElementById('qs'));
        optionx = {
            title : {
                text: '运营商对比',
                subtext: '纯属虚构'
            },
            tooltip : {
                trigger: 'axis'
            },
            legend: {
                data:['白屏', '首屏','用户可交互','完整加载']
            },
            toolbox: {
                show : true,
                feature : {
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            xAxis : [
                {
                    type : 'category',
                    data : ['电信','移动','联通']
                }
            ],
            yAxis : [
                {
                    type : 'value'
                }
            ],
            series : [
                {
                    name:'白屏',
                    type:'bar',
                    data:[0.45, 0.48, 0.34],
                    markLine : {
                        data : [
                            {type : 'average', name: '平均值'}
                        ]
                    }
                },
                {
                    name:'首屏',
                    type:'bar',
                    data:[3.93, 3.34, 3.1],
                    markLine : {
                        data : [
                            {type : 'average', name: '平均值'}
                        ]
                    }
                },
                {
                    name:'用户可交互',
                    type:'bar',
                    data:[1.93, 2.34, 2.30],
                    markLine : {
                        data : [
                            {type : 'average', name: '平均值'}
                        ]
                    }
                },
                {
                    name:'完整加载',
                    type:'bar',
                    data:[5.4, 4.38, 4.91],
                    markLine : {
                        data : [
                            {type : 'average', name: '平均值'}
                        ]
                    }
                }
            ]
        };
        optiony = {
            title: {
                text: '用户指标趋势'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'line',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data:['白屏','可交互','首屏','加载完']
            },
            xAxis : [
                {
                    name: '时间轴',
                    type : 'category',
                    boundaryGap : false,
                    data : ['2017-05-24', '2017-05-25', '2017-05-26', '2017-05-27', '2017-05-28', '2017-05-29', '2017-05-30', '2017-05-31']
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name : '耗时/秒'
                }
            ],
            series : [
                {
                    name:'白屏',
                    type:'line',
                    smooth:true,
                    // stack: '总量',
                    // areaStyle: {normal: {opacity:1}},
                    data:[
                        {'name': '2017-05-24', 'value':randomData()},
                        {'name': '2017-05-25', 'value':randomData()},
                        {'name': '2017-05-26', 'value':randomData()},
                        {'name': '2017-05-27', 'value':randomData()},
                        {'name': '2017-05-28', 'value':randomData()},
                        {'name': '2017-05-29', 'value':randomData()},
                        {'name': '2017-05-30', 'value':randomData()},
                    ]
                },
                {
                    name:'可交互',
                    type:'line',
                    smooth:true,
                    // stack: '总量',
                    // areaStyle: {normal: {opacity:0.6}},
                    data:[
                        {'name': '2017-05-24', 'value':randomData()+1.5},
                        {'name': '2017-05-25', 'value':randomData()+1.5},
                        {'name': '2017-05-26', 'value':randomData()+1.5},
                        {'name': '2017-05-27', 'value':randomData()+1.5},
                        {'name': '2017-05-28', 'value':randomData()+1.5},
                        {'name': '2017-05-29', 'value':randomData()+1.5},
                        {'name': '2017-05-30', 'value':randomData()+1.5},
                    ]
                },
                {
                    name:'首屏',
                    type:'line',
                    smooth:true,
                    // stack: '总量',
                    // areaStyle: {normal: {opacity:0.3}},
                    data:[
                        {'name': '2017-05-24', 'value':randomData()+2.5},
                        {'name': '2017-05-25', 'value':randomData()+2.5},
                        {'name': '2017-05-26', 'value':randomData()+2.5},
                        {'name': '2017-05-27', 'value':randomData()+2.5},
                        {'name': '2017-05-28', 'value':randomData()+2.5},
                        {'name': '2017-05-29', 'value':randomData()+2.5},
                        {'name': '2017-05-30', 'value':randomData()+2.5},
                    ]
                },
                {
                    name:'加载完',
                    type:'line',
                    smooth:true,
                    // stack: '总量',
                    // areaStyle: {normal: {opacity:0}},
                    data:[
                        {'name': '2017-05-24', 'value':randomData()+4},
                        {'name': '2017-05-25', 'value':randomData()+4},
                        {'name': '2017-05-26', 'value':randomData()+4},
                        {'name': '2017-05-27', 'value':randomData()+4},
                        {'name': '2017-05-28', 'value':randomData()+4},
                        {'name': '2017-05-29', 'value':randomData()+4},
                        {'name': '2017-05-30', 'value':randomData()+4},
                    ]
                },
            ]
        };
        chartx.setOption(optionx, true);
        charty.setOption(optiony, true);
    </script>
